function yaw = mag2Y(mag,roll,pitch)
yaw = atan2(mag(3)*sin(roll) - mag(2)*cos(roll), ...
    mag(1)*cos(pitch) + mag(2)*sin(pitch)*sin(roll) ...
    + mag(3)*sin(pitch)*cos(roll));
end